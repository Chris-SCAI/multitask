self.addEventListener("push",i=>{var n,t,o;const e=null!==(n=null===(t=i.data)||void 0===t?void 0:t.json())&&void 0!==n?n:{},l=e.title||"MultiTasks",a={body:e.body||"Vous avez une notification",icon:"/icon-192.png",badge:"/icon-192.png",tag:e.tag||"multitasks-notification",requireInteraction:null!==(o=e.requireInteraction)&&void 0!==o&&o,data:{url:e.url||"/"}};i.waitUntil(self.registration.showNotification(l,a))}),self.addEventListener("notificationclick",i=>{var n;i.notification.close();const t=(null===(n=i.notification.data)||void 0===n?void 0:n.url)||"/";i.waitUntil(clients.matchAll({type:"window",includeUncontrolled:!0}).then(i=>{for(const n of i)if(n.url.includes(self.location.origin)&&"focus"in n)return n.navigate(t),n.focus();if(clients.openWindow)return clients.openWindow(t)}))});